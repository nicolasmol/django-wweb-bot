{
  "id": "root",
  "ifNoMatch": {
    "doAfterReply": "",
    "doBeforeReply": "",
    "replyMessages": [],
    "thenGoToRuleId": ""
  },
  "ifPaused": {
    "doAfterReply": "",
    "doBeforeReply": "",
    "replyMessages": [],
    "thenGoToRuleId": ""
  },
  "pauseRuleInSeconds": 0,
  "rules": [
    {
      "id": "menu",
      "ifMatch": {
        "replyMessages": [
          "ü§ñ Faites votre choix:\n\n1Ô∏è‚É£. Comprendre {{APPNAME}}\n2Ô∏è‚É£. Lire les annonces\n3Ô∏è‚É£. Modifier mes annonces\n\n"
        ]
      },
      "ifNoMatch": {
        "doAfterReply": "checkNewUser",
        "replyMessages": ["{{SORRY_TRY_AGAIN}}"],
        "thenGoToRuleId": "menu"
      },
      "ifPaused": {
        "replyMessages": [
          "{{PLEASE_WAIT}} {{menu.pauseRuleInSeconds}} secondes"
        ]
      },
      "pauseRuleInSeconds": 30,
      "receivedMessageAsRex": "^111$",
      "rules": [
        {
          "id": "understandApp",
          "ifMatch": {
            "replyMessages": [
              "{{APPNAME}}\n\n{{APPNAME}} est une application de petites annonces gratuites, etc..."
            ],
            "thenGoToRuleId": "menu"
          },
          "receivedMessageAsRex": "^1$"
        },
        {
          "id": "read",
          "ifMatch": {
            "doBeforeReply": "getLastAdsList",
            "replyMessages": ["Voici les derni√®res annonces:\n\n{{ADSLIST}}"],
            "thenGoToRuleId": "root"
          },
          "receivedMessageAsRex": "^2$"
        },
        {
          "id": "edit",
          "ifMatch": {
            "replyMessages": [
              "ü§ñ Faites votre choix:\n\n1Ô∏è‚É£. Ajouter une annonce\n2Ô∏è‚É£. Supprimer une annonce\n3Ô∏è‚É£. Modifier une annonce"
            ]
          },
          "receivedMessageAsRex": "^3$",
          "rules": [
            {
              "id": "add",
              "ifMatch": {
                "replyMessages": ["ü§ñ Envoyez moi le texte de votre annonce"],
                "thenGoToRuleId": "menu"
              },
              "receivedMessageAsRex": "^1$"
            },
            {
              "id": "delete",
              "ifMatch": {
                "replyMessages": [
                  "ü§ñ Envoyez moi le num√©ro de l'annonce √† supprimer"
                ],
                "thenGoToRuleId": "menu"
              },
              "receivedMessageAsRex": "^2$"
            },
            {
              "id": "modify",
              "ifMatch": {
                "replyMessages": [
                  "ü§ñ Envoyez moi le num√©ro de l'annonce √† modifier"
                ],
                "thenGoToRuleId": "menu"
              },
              "receivedMessageAsRex": "^3$"
            }
          ]
        }
      ],
      "stopAtFirstMatch": true
    },
    {
      "id": "help",
      "ifMatch": {
        "replyMessages": [
          "Pour avoir de l'aide, utilisez le lein ci-apr√®s",
          "{{HELP_LINK}}"
        ]
      },
      "receivedMessageAsRex": "^777"
    }
  ],
  "stopAtFirstMatch": true
}
